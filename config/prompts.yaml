# Prompts Configuration
# External prompt templates for dialogue generation
# Variables available: {topic}, {stock_code}, {word_count}, {speakers_desc}, {history}

# Default prompt for general topics (life_tips, health, history, curiosity)
default: |
  {culture_instruction}
  请生成一段关于「{topic}」的双人对话脚本。

  {language_instruction}
  今天日期：{current_date}

  ## 要求
  1. **内容真实可查**：所有信息必须是真实的，观众可以在网上找到相关参考资料
  2. **对话时长**：总字数约{word_count}字，适合1分钟的正常语速朗读
  3. **对话者**：{speakers_desc}
  4. **风格**：生动有趣，适合播客收听，可以包含情感标记如 [笑声]、[惊讶] 等
  5. **结构**：有开场、主体内容、结尾
  6. **极简结构**：由于时间极短，**严禁**使用通用的开场白（如"大家好欢迎收听"）。必须**开门见山**，直接以一个提问、惊讶的事实或反直觉的观点开始。

  7. **数字表达规范**（极其重要！）：
     所有数字必须写成中文口语形式，禁止使用阿拉伯数字！
     - 金额：2500元 → "两千五百块钱" 或 "两千五"
     - 百分比：15% → "百分之十五"
     - 年份：2024年 → "二零二四年"
     - 日期：3月15日 → "三月十五号"
     - 大数：1.5亿 → "一点五个亿" 或 "一亿五千万"
     - 小数：3.5 → "三点五"
     - 时间：10:30 → "十点半"
     - 电话号码等：每个数字单独读

  8. **自然口语化表达**（让对话像真人聊天）：
     - **语气词**：适当使用 "嗯"、"哎"、"诶"、"那个"、"就是说"、"你知道吗" 等口语填充词
     - **不完整句**：真实对话中人们经常话说一半被打断或自己改口，如 "这个... 怎么说呢"
     - **打断与接话**：一方可以在另一方说话时插入 "对对对！"、"没错！"、"真的假的？"
     - **重复与强调**：适当重复关键词表示惊讶或强调，如 "一个亿？一个亿啊？"
     - **个人口头禅**：给每个角色一些固定的说话习惯，如某人爱说"你别说"、"我跟你讲"
     - **语速变化**：激动时语速加快（短句连发），思考时放慢（加省略号和语气词）

  9. **情感与音效控制**（ElevenLabs V3）：
     请在对话中适当地使用以下标签来增强表现力（Tags必须使用英文方括号）：
     - **情绪/语气**：
       - **积极**: `[laughs]` (笑), `[laughs harder]` (大笑), `[excited]` (兴奋), `[happy]` (开心), `[giggles]` (咯咯笑)
       - **消极**: `[sad]` (悲伤), `[crying]` (哭泣), `[sighs]` (叹气), `[angry]` (生气), `[frustrated]` (沮丧)
       - **其他**: `[whispers]` (耳语), `[sarcastic]` (讽刺), `[curious]` (好奇), `[confused]` (困惑), `[serious]` (严肃), `[mischievously]` (调皮)
     - **音效**: `[clears throat]` (清嗓子), `[breathing]` (呼吸声), `[gasps]` (倒吸一口气)
     - **节奏与强调**：
       - 使用省略号 `...` 表示停顿和犹豫
       - **中文强调技巧**（重要！中文没有大小写，需用以下方式）：
         - 用引号包裹重点词：这「绝对」是真的！
         - 标签放在要强调的词前面：这 [firmly] 绝对是真的！
         - 重复词语表示强调：一个亿？一个亿啊！
         - 拉长音用重复字：这也太夸张了吧～
         - 感叹号配合语气词：哎呀这可不得了！
     - **组合使用示例**：
       - `[laughs] 哎你别说，这事儿还真挺有意思的！`
       - `[confused] 等等等等... 你这意思是...？`
       - `[excited] 我跟你讲！这个 [firmly] 太厉害了！`
       - `[whispers] 你知道吗... 其实这里面还有个「秘密」...`
       - `诶？[gasps] 真的假的？一个亿？一个亿啊？！`
       - `这可是 [serious] 非常「关键」的一点！`

  10. **避免重复**：请避开以下最近已经讨论过的内容：
  {history}

  ## 输出格式
  请严格按照以下JSON格式输出，不要包含任何其他文字：
  ```json
  {{
    "title": "封面标题（6-12个字，吸引眼球，适合作为视频封面）",
    "dialogue": [
      {speakers_json_example}
    ],
    "references": ["参考来源1", "参考来源2"],
    "summary": "一句话概括这段对话的主题"
  }}
  ```

# Stock talk prompt template
stock_talk: |
  {culture_instruction}
  今天是 **{current_date}**。
  请根据股票代码「{stock_code}」生成一段关于该公司的双人对话脚本。

  {language_instruction}

  首先，请使用 Google Search 工具查找该公司的最新信息。
  **搜索时请在关键词中包含日期或"2025"以确保获取最新数据！**
  例如：搜索 "{stock_code} 财报 2025" 或 "{stock_code} 最新消息 {current_date_search}"

  请识别股票代码对应的公司（支持全球市场：美股如AAPL、A股如600519、港股如00700.HK等）。
  然后围绕该公司生成以下三个方面的内容：

  ### 必须涵盖的三大要点
  1. **公司主营业务与最新财务分析**：
     - 公司做什么、主要产品/服务
     - **必须包含最新的财务数据**（如最近一季度的营收、净利润、增长率等），并引用具体数据。
  2. **行业地位与核心竞争力**：主要竞争对手是谁、市场地位如何、公司的护城河。
  3. **风险提示（重要）**：
     - 当前面临的主要风险（如政策风险、市场竞争、技术变革等）。
     - 投资需要注意的潜在陷阱。

  ## 要求
  1. **内容真实可查**：所有信息必须是真实的，**必须基于实时的搜索结果**。
  2. **对话时长**：总字数约{word_count}字，适合90秒的正常语速朗读
  3. **对话者**：{speakers_desc}
  4. **风格**：专业但通俗易懂，适合普通投资者收听，像朋友聊股票
  5. **极简结构**：由于时间极短，**严禁**使用通用的开场白。必须**开门见山**，直接以公司最引人注目的特点或数据开始。

  6. **数字表达规范**（极其重要！）：
     所有数字必须写成中文口语形式，禁止使用阿拉伯数字！
     - 股价：125.5元 → "一百二十五块五"
     - 市值：2500亿 → "两千五百亿"
     - 营收：1.5亿 → "一点五个亿" 或 "一亿五千万"
     - 涨跌幅：+15% → "涨了百分之十五"，-3.5% → "跌了百分之三点五"
     - 市盈率：PE 25倍 → "市盈率二十五倍"
     - 年份：2024年 → "二零二四年"
     - 季度：Q3 → "第三季度"

  7. **自然口语化表达**（像老股民聊天）：
     - **语气词**：适当使用 "嗯"、"哎"、"你看"、"我跟你说"、"说白了" 等口语
     - **股民黑话**：可以用一些股民常用语如 "抄底"、"套牢"、"割肉"、"韭菜" 等
     - **打断与追问**：如 "等等，这数据靠谱吗？"、"哎不对，你再说说那个..."
     - **表达惊讶**：对数据的反应如 "卧槽，这么猛？"、"啊？亏这么多？"
     - **个人观点穿插**：如 "我觉得吧..."、"按我说..."

  8. **情感与音效控制**（ElevenLabs V3）：
     请在对话中适当地使用以下标签来增强表现力（Tags必须使用英文方括号）：
     - **情绪/语气**：`[curious]` (好奇), `[excited]` (兴奋), `[serious]` (严肃), `[surprised]` (惊讶), `[worried]` (担忧), `[gasps]` (倒吸一口气)
     - **节奏与强调**：
       - 使用省略号 `...` 表示停顿和思考
       - **中文强调**：用引号「」包裹重点词，或把标签放在要强调的词前
       - 重复表达惊讶：八十倍？八十倍啊？！
     - **组合示例**：
       - `[excited] 哎你看这个！营收「一点五个亿」，同比涨了百分之三十多！`
       - `[gasps] 啊？市盈率都八十倍了？八十倍啊？这... 有点高啊...`
       - `[serious] 我跟你说，这个风险你 [firmly] 必须注意...`
       - `这业绩... [surprised] 也太猛了吧！`

  9. **避免重复**：请避开以下最近已经讨论过的内容：
  {history}

  ## 输出格式
  请严格按照以下JSON格式输出，不要包含任何其他文字：
  ```json
  {{
    "title": "封面标题（6-12个字，需包含股票名称，吸引眼球）",
    "dialogue": [
      {speakers_json_example}
    ],
    "references": ["参考来源1（带URL）", "参考来源2（带URL）"],
    "summary": "一句话概括：公司名称 + 核心亮点"
  }}
  ```

# Daily China Finance prompt template
daily_china_finance: |
  {culture_instruction}
  今天是 **{current_date}**。
  请生成一段关于「今日中国财经新闻与股市复盘」的单人叙述脚本。

  {language_instruction}

  首先，请使用 Google Search 工具查找今天（{current_date_search}）的中国财经头条新闻、A股/港股大盘走势、以及热门板块或个股表现。
  **搜索时请在关键词中包含日期 "{current_date_search}" 以确保获取最新数据！**
  例如：搜索 "A股 {current_date_search}" 或 "中国财经新闻 {current_date_search}"

  ## 必须涵盖的内容
  1. **大盘综述**：今日（{current_date}）股市涨跌情况，主要指数表现。
  2. **核心热点**：今日最重要的一到两条财经新闻（如政策发布、行业爆发、突发事件）。
  3. **市场情绪**：投资者情绪如何，有什么特别的现象。

  ## 要求
  1. **内容真实可查**：所有信息必须是真实的，**必须基于今天（{current_date}）的实时搜索结果**。请在对话中提及具体的新闻来源或数据。
  2. **对话时长**：总字数约{word_count}字，正常语速朗读。
  3. **对话者**：{speakers_desc}
  4. **风格**：专业、及时、犀利，像资深财经主播的脱口秀，有个人风格和态度。
  5. **极简结构**：开门见山，直接讨论今日最热话题。

  6. **数字表达规范**（极其重要！）：
     所有数字必须写成中文口语形式，禁止使用阿拉伯数字！
     - 指数点位：3250点 → "三千二百五十点"
     - 涨跌幅：+1.5% → "涨了百分之一点五"，-2.3% → "跌了百分之二点三"
     - 成交额：1.2万亿 → "一点二万亿"
     - 个股涨幅：涨停 → "涨停"，+8% → "涨了百分之八"
     - 时间：今日/今天、昨日/昨天（口语化）

  7. **主播个人风格**（让播报有温度）：
     - **开场抓人**：用一句有态度的话开场，如 "今天这个市场... [sighs] 怎么说呢..."
     - **个人点评**：穿插主播观点，如 "我个人觉得..."、"说实话..."、"这波操作，懂的都懂"
     - **语气变化**：好消息时语气上扬，坏消息时语气沉重
     - **与听众互动感**：如 "各位"、"朋友们"、"你品，你细品"
     - **口头禅**：可以有一两个固定口头禅增加辨识度

  8. **情感与音效控制**（ElevenLabs V3）：
     请在对话中适当地使用以下标签来增强表现力（Tags必须使用英文方括号）：
     - **情绪/语气**：`[professional]` (专业), `[urgent]` (紧迫), `[serious]` (严肃), `[analytical]` (分析), `[surprised]` (惊讶), `[sighs]` (叹气), `[gasps]` (倒吸一口气)
     - **节奏与强调**：
       - 使用省略号 `...` 表示停顿和思考
       - **中文强调**：用引号「」包裹重点词，或把标签放在要强调的词前
       - 重复关键数据表示重要性
     - **示例**：
       - `[serious] 各位，今天大盘收在三千二百五十点，跌了「百分之一点三」...`
       - `[gasps] 但是！新能源板块 [excited] 逆势上涨，龙头股「直接涨停」！`
       - `[analytical] 这背后呢... 我觉得 [firmly] 主要是两个原因...`
       - `成交额呢... [surprised] 一点五万亿！一点五万亿啊各位！`

  9. **避免重复**：请避开以下最近已经讨论过的内容：
  {history}

  ## 输出格式
  请严格按照以下JSON格式输出，不要包含任何其他文字：
  ```json
  {{
    "title": "封面标题（6-12个字，包含今日核心热点）",
    "dialogue": [
      {speakers_json_example}
    ],
    "references": ["新闻来源1（带URL）", "新闻来源2（带URL）"],
    "summary": "一句话概括：日期 + 核心财经事件"
  }}
  ```

# Image Scene Extraction Template
image_scene_extraction: |
  You are an expert visual storyteller. Analyze the podcast dialogue below and extract 【exactly {count}】 key scenes that are most visually impactful.
  This is CRITICAL: You must return exactly {count} scenes.

  Dialogue Context:
  {dialogue_text}

  Topic Summary:
  {summary}

  Task:
  Generate a detailed English image prompt for {count} distinct scenes.
  For each scene, consider the cultural context: {culture_context}.
  Make sure the characters and settings reflect this culture unless the dialogue explicitly contradicts it.

  Requirements:
  1. Return a JSON array with exactly {count} objects.
  2. Prompts must be highly detailed, describing:
     - Subject (who/what)
     - Action (what is happening)
     - Environment (lighting, background, weather)
     - Mood/Atmosphere
     - Photographic Style: {style}, cinematic lighting, 8k resolution, highly detailed
  3. Ensure visual variety across scenes.

  Output Format (JSON Array):
  ```json
  [
    {{"scene": "Brief description of scene 1", "prompt": "Detailed English prompt for scene 1..."}},
    {{"scene": "Brief description of scene 2", "prompt": "Detailed English prompt for scene 2..."}}
  ]
  ```

# Image Cover Generation Template
image_cover_generation: |
  You are an expert graphical designer for podcast covers.
  Title: "{title}"
  Topic Summary: "{summary}"

  Task:
  Create a high-impact, minimalist, and professional podcast cover art prompt.
  
  Context:
  Target Audience: {culture_context}
  
  Requirements:
  1. **Style**: {style}. Must look premium and eye-catching on small screens.
  2. **Typography**: The image MUST include the title "{title}" integrated into the design. The text should be bold, legible, and artistic.
  3. **Composition**: Center-weighted or balanced.
  4. **Elements**: Use symbolic or metaphorical imagery representing the topic.
  5. **Lighting**: Dramatic, studio quality, or soft natural light depending on the mood.

  Return ONLY the English image prompt descriptions.

# Language Instructions and Cultural Contexts
languages:
  CN:
    instruction: "请全程使用中文进行对话。"
    culture: "Target Audience: Chinese. Cultural Context: Modern China, Asian aesthetic. Characters should primarily be East Asian."
    image_style: "realistic photography, natural lighting, high quality, 4K"
  EN:
    instruction: "Please generate the dialogue entirely in English."
    culture: "Target Audience: Global/Western. Cultural Context: Modern Western society. diverse characters."
    image_style: "cinematic photography, hollywood style, high contrast, 4K"
  JP:
    instruction: "Please generate the dialogue entirely in Japanese."
    culture: "Target Audience: Japanese. Cultural Context: Modern Japan, clean aesthetic. Characters should primarily be Japanese."
    image_style: "clean photography, soft lighting, japanese aesthetic, 4K"

